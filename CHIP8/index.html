<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Affan - PWA Mobile HTML Template">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->

  <meta name="theme-color" content="#0134d4">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <!-- Title -->
  <title>Affan - PWA Mobile HTML Template</title>

  <!-- Favicon -->
  <link rel="icon" href="img/core-img/favicon.ico">
  <link rel="apple-touch-icon" href="img/icons/icon-96x96.png">
  <link rel="apple-touch-icon" sizes="152x152" href="img/icons/icon-152x152.png">
  <link rel="apple-touch-icon" sizes="167x167" href="img/icons/icon-167x167.png">
  <link rel="apple-touch-icon" sizes="180x180" href="img/icons/icon-180x180.png">

  <!-- Style CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- Web App Manifest -->
  <link rel="manifest" href="manifest.json">

  <style>
        #screen {
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            image-rendering: pixelated;
            display: block;
            margin: 0 auto;
            max-width: 100%;
            height: auto;
            aspect-ratio: 2 / 1; /* Maintain a 64x32 aspect ratio */
        }
  </style>
</head>

<body>
  <!-- Preloader -->
  <div id="preloader">
    <div class="spinner-grow text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <!-- Internet Connection Status -->
  <div class="internet-connection-status" id="internetStatus"></div>

  <!-- Header Area -->
  <div class="header-area" id="headerArea">
    <div class="container">
      <!-- Header Content -->
      <div class="header-content header-style-five position-relative d-flex align-items-center justify-content-between">
        <!-- Logo Wrapper -->
        <div class="logo-wrapper">
          <a href="home.html">
            <img src="img/core-img/logo.png" alt="">
          </a>
        </div>

        <!-- Navbar Toggler -->
        <div class="navbar--toggler" id="affanNavbarToggler" data-bs-toggle="offcanvas" data-bs-target="#affanOffcanvas"
          aria-controls="affanOffcanvas">
          <span class="d-block"></span>
          <span class="d-block"></span>
          <span class="d-block"></span>
        </div>
      </div>
    </div>
  </div>

  <!-- # Sidenav Left -->
  <div class="offcanvas offcanvas-start" id="affanOffcanvas" data-bs-scroll="true" tabindex="-1"
    aria-labelledby="affanOffcanvsLabel">

    <button class="btn-close btn-close-white text-reset" type="button" data-bs-dismiss="offcanvas"
      aria-label="Close"></button>

    <div class="offcanvas-body p-0">
      <div class="sidenav-wrapper">
        <!-- Sidenav Profile -->
        <div class="sidenav-profile bg-gradient">
          <div class="sidenav-style1"></div>

          <!-- User Thumbnail -->
          <div class="user-profile">
            <img src="img/bg-img/2.jpg" alt="">
          </div>

          <!-- User Info -->
          <div class="user-info">
            <h6 class="user-name mb-0">Affan Islam</h6>
            <span>CEO, Designing World</span>
          </div>
        </div>

        <!-- Sidenav Nav -->
        <ul class="sidenav-nav ps-0">
          <li>
            <a href="home.html"><i class="bi bi-house-door"></i> Home</a>
          </li>
          <li>
            <a href="elements.html"><i class="bi bi-heart"></i> Elements
              <span class="badge bg-danger rounded-pill ms-2">220+</span>
            </a>
          </li>
          <li>
            <a href="pages.html"><i class="bi bi-folder2-open"></i> Pages
              <span class="badge bg-success rounded-pill ms-2">100+</span>
            </a>
          </li>
        </ul>

        <!-- Copyright Info -->
        <div class="copyright-info">
          <p>
            <span id="copyrightYear"></span>
            &copy; Made by <a href="#"> Designing World</a>
          </p>
        </div>
      </div>
    </div>
  </div>

  <div class="page-content-wrapper">

    <!-- Tiny Slider One Wrapper -->
    <div class="tiny-slider-one-wrapper">
      <div class="tiny-slider-one">
        <!-- Single Hero Slide -->
        <div>
          <div class="single-hero-slide bg-overlay" style="background-image: url('img/bg-img/31.jpg')">
            <div class="h-100 d-flex align-items-center text-center">
              <div class="container">
                <canvas id="screen"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="pt-3"></div>

    <div class="container">
        <div class="card bg-primary bg-gradient">
          <div class="card-body">
            <div class="colorful-tab">
              <ul class="nav p-1 mb-3 shadow-sm" id="affanTab3" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="btn btn-primary active" id="keypad-tab" data-bs-toggle="tab" data-bs-target="#keypad" type="button" role="tab" aria-controls="keypad" aria-selected="true">Keypad</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="btn btn-primary" id="controls-tab" data-bs-toggle="tab" data-bs-target="#controls" type="button" role="tab" aria-controls="controls" aria-selected="false">Controls</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="btn btn-primary" id="rom-tab" data-bs-toggle="tab" data-bs-target="#rom" type="button" role="tab" aria-controls="latest" aria-selected="false">ROM</button>
                </li>
              </ul>
  
              <div class="tab-content shadow-sm p-3" id="affanTab3Content">
                <div class="tab-pane fade active show" id="keypad" role="tabpanel" aria-labelledby="keypad-tab">
                    <div class="row g-3">
            
                        <div class="col-3">
                          <div class="feature-card mx-auto text-center">
                            <div class="card mx-auto bg-gray">
                                1
                            </div>
                          </div>
                        </div>
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                  2
                              </div>
                            </div>
                        </div>
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                  3
                              </div>
                            </div>
                        </div>            
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                  C
                              </div>
                            </div>
                        </div>   
            
                      </div>
            
                      <div class="row g-3">
                        
                        <div class="col-3">
                          <div class="feature-card mx-auto text-center">
                            <div class="card mx-auto bg-gray">
                                4
                            </div>
                          </div>
                        </div>
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                5
                              </div>
                            </div>
                        </div>
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                6
                              </div>
                            </div>
                        </div>            
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                D
                              </div>
                            </div>
                        </div>   
            
                      </div>
            
                      <div class="row g-3">
                        
                        <div class="col-3">
                          <div class="feature-card mx-auto text-center">
                            <div class="card mx-auto bg-gray">
                                7
                            </div>
                          </div>
                        </div>
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                8
                              </div>
                            </div>
                        </div>
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                9
                              </div>
                            </div>
                        </div>            
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                E
                              </div>
                            </div>
                        </div>   
            
                      </div>
                      
                      <div class="row g-3">
                        
                        <div class="col-3">
                          <div class="feature-card mx-auto text-center">
                            <div class="card mx-auto bg-gray">
                                A
                            </div>
                          </div>
                        </div>
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                0
                              </div>
                            </div>
                        </div>
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                B
                              </div>
                            </div>
                        </div>            
            
                        <div class="col-3">
                            <div class="feature-card mx-auto text-center">
                              <div class="card mx-auto bg-gray">
                                F
                              </div>
                            </div>
                        </div>   
            
                      </div>    
                </div>
                <div class="tab-pane fade" id="controls" role="tabpanel" aria-labelledby="controls-tab">
                  <h6 class="text-white">Modern trends.</h6>
                  <p class="mb-0 text-white">Lorem ipsum, dolor sit amet consectetur adipisicing elit.</p>
                </div>
                <div class="tab-pane fade" id="rom" role="tabpanel" aria-labelledby="rom-tab">
                    <input type="file" id="rom-file" class="form-control w-50 mx-auto" accept=".ch8">
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>

    <div class="pb-3"></div>
  </div>

  <!-- Footer Nav -->
  <div class="footer-nav-area" id="footerNav">
    <div class="container px-0">
      <!-- Footer Content -->
      <div class="footer-nav position-relative">
        <ul class="h-100 d-flex align-items-center justify-content-between ps-0">
          <li class="active">
            <a href="home.html">
              <i class="bi bi-house"></i>
              <span>Emulator</span>
            </a>
          </li>

          <li>
            <a href="pages.html">
              <i class="bi bi-folder2-open"></i>
              <span>Disassembler</span>
            </a>
          </li>

          <li>
            <a href="elements.html">
              <i class="bi bi-heart"></i>
              <span>Assembler</span>
            </a>
          </li>

        </ul>
      </div>
    </div>
  </div>

  <!-- All JavaScript Files -->
  <script src="js/jquery-3.7.1.min.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/slideToggle.min.js"></script>
  <script src="js/internet-status.js"></script>
  <script src="js/tiny-slider.js"></script>
  <script src="js/venobox.min.js"></script>
  <script src="js/countdown.js"></script>
  <script src="js/rangeslider.min.js"></script>
  <script src="js/vanilla-dataTables.min.js"></script>
  <script src="js/index.js"></script>
  <script src="js/imagesloaded.pkgd.min.js"></script>
  <script src="js/isotope.pkgd.min.js"></script>
  <script src="js/dark-rtl.js"></script>
  <script src="js/active.js"></script>
  <script src="js/pwa.js"></script>

  <!-- Emulator Components -->
  <script src="cpu.js"></script>
  <script src="memory.js"></script>
  <script src="display.js"></script>
  <script src="input.js"></script>
  <script src="timer.js"></script>
  <script src="emulator.js"></script>

  <!-- Emulator Logic -->
  <script>
  $(document).ready(function() {
        const canvas = document.getElementById('screen');
        const context = canvas.getContext('2d');

        const SCREEN_WIDTH = 64;
        const SCREEN_HEIGHT = 32;

        canvas.width = SCREEN_WIDTH;
        canvas.height = SCREEN_HEIGHT;

        const emulator = new Emulator(context);

        function resizeCanvas() {
            const maxWidth = 640; // Max width for the canvas
            const scale = Math.min(maxWidth / SCREEN_WIDTH, window.innerWidth / SCREEN_WIDTH);
            canvas.style.width = `${SCREEN_WIDTH * scale}px`;
            canvas.style.height = `${SCREEN_HEIGHT * scale}px`;
        }

        window.addEventListener('resize', resizeCanvas);
        resizeCanvas(); // Call once to set the size correctly initially  

        context.fillStyle = 'black';
        context.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);

        $('#rom-file').change(function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const romData = new Uint8Array(e.target.result);
                    emulator.reset();
                    emulator.loadROM(romData);
                    emulator.start();
                };
                reader.readAsArrayBuffer(file);
            }
        });

    });
  </script>
</body>

</html>